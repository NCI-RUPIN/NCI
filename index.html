<!DOCTYPE html>
<html lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NCI ì„¤ë¬¸ì¡°ì‚¬ - ë‚˜ë¥¼ ì´í•´í•˜ê³  ì„±ì¥ì‹œí‚¤ëŠ” ë°ì´í„°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary: #2E75B6;
            --primary-dark: #1a4d7a;
            --primary-light: #4A90E2;
            --accent: #667eea;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }

        html {
            font-size: 16px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Pretendard', 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, var(--accent) 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--gray-900);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 56rem;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 1.5rem 1rem;
            text-align: center;
        }

        .header h1 {
            font-size: 1.25rem;
            font-weight: 700;
            line-height: 1.4;
            margin-bottom: 0.5rem;
        }

        .header p {
            font-size: 0.8rem;
            opacity: 0.95;
        }

        /* Content Sections */
        .content-section {
            display: none;
            padding: 1.5rem 1rem;
            animation: fadeIn 0.3s ease-in;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Welcome Screen */
        .welcome-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .welcome-screen h2 {
            font-size: 1.25rem;
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
            line-height: 1.4;
        }

        .welcome-screen .description {
            font-size: 0.9rem;
            line-height: 1.7;
            color: var(--gray-600);
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .time-info {
            text-align: center;
            color: var(--gray-500);
            font-size: 0.9rem;
            margin: 1.5rem 0;
            padding: 0.75rem;
            background: var(--gray-50);
            border-radius: 0.5rem;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-800);
            font-size: 0.9rem;
        }

        .required {
            color: var(--danger);
        }

        input[type="text"],
        input[type="email"],
        input[type="number"],
        select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--gray-200);
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .radio-group label {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border: 2px solid var(--gray-200);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
            min-width: 5rem;
            justify-content: center;
            font-weight: 400;
        }

        .radio-group input[type="radio"] {
            margin-right: 0.5rem;
        }

        .radio-group label:has(input:checked) {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Consent Box */
        .consent-box {
            background: var(--gray-50);
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--gray-200);
        }

        .consent-box h3 {
            font-size: 1.1rem;
            color: var(--primary);
            margin-bottom: 0.75rem;
        }

        .consent-box p {
            font-size: 0.9rem;
            color: var(--gray-600);
            line-height: 1.6;
            margin-bottom: 0.75rem;
        }

        .consent-box ul {
            margin: 0.75rem 0;
            padding-left: 1.25rem;
        }

        .consent-box li {
            font-size: 0.9rem;
            color: var(--gray-600);
            margin-bottom: 0.5rem;
        }

        .consent-checkbox {
            margin: 1.5rem 0;
        }

        .consent-checkbox label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .consent-checkbox input[type="checkbox"] {
            margin-right: 0.5rem;
            margin-top: 0.25rem;
            width: 1.125rem;
            height: 1.125rem;
            cursor: pointer;
        }

        /* Progress Section */
        .progress-section {
            display: none;
            padding: 1rem;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
        }

        .progress-section.active {
            display: block;
        }

        .progress-info {
            text-align: center;
            margin-bottom: 0.75rem;
            font-size: 0.85rem;
            color: var(--gray-600);
        }

        .progress-bar-container {
            width: 100%;
            height: 0.5rem;
            background: var(--gray-200);
            border-radius: 1rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-light) 100%);
            transition: width 0.4s ease;
        }

        /* Survey Question */
        .survey-question {
            margin-bottom: 1.5rem;
        }

        .question-text {
            font-size: 1.05rem;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .question-number {
            color: var(--primary);
            font-weight: 700;
            margin-right: 0.5rem;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid var(--gray-200);
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .option-label:hover {
            border-color: var(--primary-light);
            background: var(--gray-50);
        }

        .option-label:has(input:checked) {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .option-label input[type="radio"] {
            margin-right: 0.75rem;
            width: 1.125rem;
            height: 1.125rem;
            cursor: pointer;
        }

        /* Checkbox Styles for Sleep/Body Questions */
        .checkbox-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid var(--gray-200);
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .checkbox-label:hover {
            border-color: var(--primary-light);
            background: var(--gray-50);
        }

        .checkbox-label:has(input:checked) {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .checkbox-label input[type="checkbox"] {
            margin-right: 0.75rem;
            width: 1.125rem;
            height: 1.125rem;
            cursor: pointer;
        }

        /* Buttons */
        .btn {
            width: 100%;
            padding: 1rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            touch-action: manipulation;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
        }

        .btn-primary:active:not(:disabled) {
            transform: scale(0.98);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: white;
            color: var(--gray-600);
            border: 2px solid var(--gray-300);
            padding: 0.875rem 1.5rem;
        }

        .btn-secondary:active:not(:disabled) {
            border-color: var(--primary);
            color: var(--primary);
        }

        /* Navigation */
        .navigation {
            padding: 1rem;
            background: var(--gray-50);
            display: none;
            flex-direction: column;
            gap: 0.75rem;
        }

        .navigation.active {
            display: flex;
        }

        .nav-buttons {
            display: flex;
            gap: 0.75rem;
        }

        .nav-buttons .btn-secondary {
            flex: 1;
        }

        .nav-buttons .btn-primary {
            flex: 2;
        }

        .section-indicator {
            text-align: center;
            color: var(--gray-600);
            font-size: 0.85rem;
        }

        /* Completion Screen */
        .completion-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .completion-screen h2 {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
        }

        .completion-screen p {
            font-size: 1rem;
            color: var(--gray-600);
            line-height: 1.8;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .completion-screen .note {
            font-size: 0.85rem;
            color: var(--gray-500);
            margin-top: 2rem;
        }

        /* Loading Spinner */
        .spinner {
            display: none;
            width: 2rem;
            height: 2rem;
            border: 3px solid var(--gray-200);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Tablet & Desktop */
        @media (min-width: 48rem) {
            html {
                font-size: 18px;
            }

            .container {
                border-radius: 1.25rem;
                margin: 1.25rem auto;
                overflow: hidden;
                box-shadow: 0 1.25rem 3.75rem rgba(0,0,0,0.3);
            }

            .header {
                padding: 2.5rem;
            }

            .header h1 {
                font-size: 1.75rem;
            }

            .content-section {
                padding: 3rem 2.5rem;
            }

            .options {
                flex-direction: row;
                flex-wrap: wrap;
            }

            .option-label {
                flex: 1;
                min-width: 8rem;
            }

            .navigation {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }

            .nav-buttons {
                order: 0;
                width: auto;
            }

            .section-indicator {
                order: 1;
            }
        }

        /* Mobile-specific optimization */
        @media (max-width: 47.9375rem) {
            .header h1 {
                font-size: 1.1rem;
            }
            
            .header p {
                font-size: 0.75rem;
            }
            
            .question-text {
                font-size: 1rem;
            }
            
            .content-section {
                padding: 1.25rem 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ë‚˜ë¥¼ ì´í•´í•˜ê³  ì„±ì¥ì‹œí‚¤ëŠ” ë°ì´í„°, NCI<br>(Neuro Coaching Insight)</h1>
            <p>ë‰´ë¡œì›ìŠ¤(ì£¼) NEI ë¶„ì„ ì‹œìŠ¤í…œ</p>
        </div>

        <!-- 1. Welcome Screen -->
        <div class="content-section active" id="welcomeScreen">
            <div class="welcome-screen">
                <div class="welcome-icon">ğŸ§ </div>
                <h2>í™˜ì˜í•©ë‹ˆë‹¤!</h2>
                <div class="description">
                    ì—´ì‹¬íˆ ë…¸ë ¥í•˜ëŠ”ë° ì™œ ê²°ê³¼ë§Œí¼ ë§Œì¡±ìŠ¤ëŸ½ì§€ ì•Šì„ê¹Œìš”? ë‚˜ì˜ ì—ë„ˆì§€ëŠ” ì„±ê³¼ë¥¼ ë‚´ëŠ” ë° ì“°ì¼ê¹Œìš”, ê±±ì •í•˜ëŠ” ë° ì“°ì¼ê¹Œìš”?<br><br>
                    ì§„ì •í•œ ë³€í™”(Change)ëŠ” ë§‰ì—°í•œ ë‹¤ì§ì´ ì•„ë‹ˆë¼, ë‚˜ë¥¼ ê°ê´€ì ìœ¼ë¡œ íŒŒì•…í•˜ëŠ” ìê¸° ì´í•´(Self-Understanding)ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.<br><br>
                    ë‰´ë¡œì—ì´ì•„ì´ì‹œìŠ¤í…œ(ì£¼)ê°€ ë…ì ê°œë°œí•œ <strong>NEI(ë‡Œ íš¨ìœ¨ì„± ì§€ìˆ˜) ë¶„ì„ ì‹œìŠ¤í…œ</strong>ì€ ë‹¹ì‹ ì˜ ì—ë„ˆì§€ê°€ ìƒˆë‚˜ê°€ëŠ” ê³³ì„ ì°¾ì•„ë‚´ê³ , ë‹¹ì‹ ì´ ê°€ì§„ ì ì¬ë ¥ì„ ìµœëŒ€ë¡œ ëŒì–´ì˜¬ë¦´ ë§ì¶¤í˜• ì½”ì¹­ ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.<br><br>
                    ë” ë‚˜ì€ ë‚˜ë¥¼ ë§Œë‚˜ëŠ” ì‹œê°„, ì§€ê¸ˆ ì‹œì‘í•´ ë³´ì„¸ìš”.
                </div>
                <div class="time-info">
                    â±ï¸ ì†Œìš” ì‹œê°„: ì•½ 12ë¶„
                </div>
                <button class="btn btn-primary" onclick="goToConsent()">ì‹œì‘í•˜ê¸°</button>
            </div>
        </div>

        <!-- 2. Consent Screen -->
        <div class="content-section" id="consentScreen">
            <h2 style="font-size: 1.5rem; color: var(--primary); margin-bottom: 1.5rem; text-align: center;">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</h2>
            
            <div class="consent-box">
                <h3>ğŸ“‹ ê°œì¸ì •ë³´ ìˆ˜ì§‘ í•­ëª©</h3>
                <p>ë‰´ë¡œì›ìŠ¤(ì£¼)ëŠ” NCI ê²°ê³¼ ë¶„ì„ ë° ë¦¬í¬íŠ¸ ë°œì†¡ì„ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.</p>
                <ul>
                    <li><strong>ìˆ˜ì§‘í•­ëª©:</strong> ì´ë¦„, ì„±ë³„, ì—°ë ¹, ì§ì—…êµ°, ì´ë©”ì¼</li>
                    <li><strong>ìˆ˜ì§‘ëª©ì :</strong> NEI ì§€ìˆ˜ ì‚°ì¶œ, ê²°ê³¼ ë¦¬í¬íŠ¸ ë°œì†¡, ë§ì¶¤í˜• ì •ë³´ ì œê³µ</li>
                    <li><strong>ë³´ìœ ê¸°ê°„:</strong> ì´ìš© ëª©ì  ë‹¬ì„± ì‹œê¹Œì§€ (ë˜ëŠ” ê³ ê° ìš”ì²­ ì‹œ íŒŒê¸°)</li>
                </ul>
                <p style="color: var(--danger); font-weight: 600;">
                    âš ï¸ ê·€í•˜ëŠ” ë™ì˜ë¥¼ ê±°ë¶€í•  ê¶Œë¦¬ê°€ ìˆìœ¼ë‚˜, ê±°ë¶€ ì‹œ ê²°ê³¼ ë¦¬í¬íŠ¸ ë°œì†¡ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
                </p>
            </div>

            <div class="consent-checkbox">
                <label>
                    <input type="checkbox" id="consentAgree" onchange="updateConsentButton()">
                    <span>ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤. (í•„ìˆ˜)</span>
                </label>
            </div>

            <button class="btn btn-primary" id="consentBtn" disabled onclick="goToPersonalInfo()">ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>
        </div>

        <!-- 3. Personal Info Screen -->
        <div class="content-section" id="personalInfoScreen">
            <h2 style="font-size: 1.5rem; color: var(--primary); margin-bottom: 1.5rem; text-align: center;">ê°œì¸ì •ë³´ ì…ë ¥</h2>
            
            <form id="personalInfoForm">
                <div class="form-group">
                    <label>ì´ë¦„ <span class="required">*</span></label>
                    <input type="text" id="userName" required placeholder="í™ê¸¸ë™">
                </div>

                <div class="form-group">
                    <label>ì„±ë³„ <span class="required">*</span></label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="gender" value="ë‚¨ì„±" required>
                            <span>ë‚¨ì„±</span>
                        </label>
                        <label>
                            <input type="radio" name="gender" value="ì—¬ì„±" required>
                            <span>ì—¬ì„±</span>
                        </label>
                        <label>
                            <input type="radio" name="gender" value="ê¸°íƒ€" required>
                            <span>ê¸°íƒ€</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>ë‚˜ì´ <span class="required">*</span></label>
                    <input type="number" id="userAge" required placeholder="ë§Œ ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”" min="10" max="100">
                </div>

                <div class="form-group">
                    <label>í˜„ì¬ ì§ì—…êµ° <span class="required">*</span></label>
                    <select id="userJob" required onchange="toggleJobOther()">
                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                        <option value="í•™ìƒ/ì·¨ì—…ì¤€ë¹„ìƒ">í•™ìƒ/ì·¨ì—…ì¤€ë¹„ìƒ</option>
                        <option value="ì§ì¥ì¸(ì‚¬ë¬´/í–‰ì •)">ì§ì¥ì¸(ì‚¬ë¬´/í–‰ì •)</option>
                        <option value="ì§ì¥ì¸(ì˜ì—…/ì„œë¹„ìŠ¤)">ì§ì¥ì¸(ì˜ì—…/ì„œë¹„ìŠ¤)</option>
                        <option value="ì „ë¬¸ì§/ì—°êµ¬ì§">ì „ë¬¸ì§/ì—°êµ¬ì§</option>
                        <option value="ì‚¬ì—…ê°€/í”„ë¦¬ëœì„œ">ì‚¬ì—…ê°€/í”„ë¦¬ëœì„œ</option>
                        <option value="ì˜ˆìˆ /ì°½ì‘ì§">ì˜ˆìˆ /ì°½ì‘ì§</option>
                        <option value="ì£¼ë¶€/ì „ì—…ë§˜">ì£¼ë¶€/ì „ì—…ë§˜</option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                    </select>
                </div>

                <div class="form-group" id="jobOtherGroup" style="display: none;">
                    <label>ì§ì—… ìƒì„¸ ì…ë ¥</label>
                    <input type="text" id="userJobOther" placeholder="ì§ì—…ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>

                <div class="form-group">
                    <label>ì´ë©”ì¼ <span class="required">*</span></label>
                    <input type="email" id="userEmail" required placeholder="example@email.com">
                </div>

                <button type="button" class="btn btn-primary" onclick="submitPersonalInfo()">ì„¤ë¬¸ ì‹œì‘í•˜ê¸°</button>
            </form>
        </div>

        <!-- Progress Bar -->
        <div class="progress-section" id="progressSection">
            <div class="progress-info" id="progressInfo">ë¬¸í•­ 0/0</div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>

        <!-- 4. Survey Sections -->
        <div class="content-section" id="surveySection"></div>

        <!-- Navigation -->
        <div class="navigation" id="navigationBar">
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="previousSection()">ì´ì „</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextSection()">ë‹¤ìŒ</button>
            </div>
            <div class="section-indicator" id="sectionIndicator">ì„¹ì…˜ 0/0</div>
        </div>

        <!-- 5. Completion Screen -->
        <div class="content-section" id="completionScreen">
            <div class="completion-screen">
                <div class="completion-icon">âœ…</div>
                <h2>ì„¤ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                <p>
                    ì†Œì¤‘í•œ ì‹œê°„ì„ ë‚´ì–´ ì‘ë‹µí•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
                    ì…ë ¥í•˜ì‹  ì´ë©”ì¼ë¡œ ë¶„ì„ ê²°ê³¼ë¥¼ ë°œì†¡í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.<br><br>
                    ë¶„ì„ ê²°ê³¼ëŠ” ì˜ì—…ì¼ ê¸°ì¤€ 3-5ì¼ ì´ë‚´ì— ì „ë‹¬ë©ë‹ˆë‹¤.
                </p>
                <div class="spinner" id="submitSpinner"></div>
                <button class="btn btn-primary" onclick="submitSurvey()" id="submitBtn">ê²°ê³¼ ì œì¶œí•˜ê¸°</button>
                <p class="note">
                    â€» ì œì¶œ í›„ì—ëŠ” ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.<br>
                    ëª¨ë“  ë¬¸í•­ì— ì •í™•íˆ ì‘ë‹µí•˜ì…¨ëŠ”ì§€ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ ì£¼ì„¸ìš”.
                </p>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // êµ¬ê¸€ì‹œíŠ¸ ì—°ë™ ì„¤ì •
        // ============================================
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyrtJkNR1gXXL2ElGWqaSeVob_H0fWxqgBbYz9NnVJcZtIyFOSZ7o-i-MI6v0ZOjJk4/exec';

        // ============================================
        // ì„¤ë¬¸ ë°ì´í„°
        // ============================================
        const surveyQuestions = [
            // ì•ìª½ë‡Œ (1-16)
            {"id": 1, "area": "ì•ìª½ë‡Œ", "subarea": "ë™ê¸°&ì‹¤í–‰", "text": "ì•„ì¹¨ì— ëˆˆì„ ëœ¨ë©´ ì˜¤ëŠ˜ ë‚´ê°€ ë¬´ì—‡ì„ í•´ì•¼ í• ì§€, í•˜ë£¨ì˜ í° ê·¸ë¦¼(ëª©í‘œ)ì´ ëª…í™•í•˜ê²Œ ê·¸ë ¤ì§„ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 2, "area": "ì•ìª½ë‡Œ", "subarea": "ë™ê¸°&ì‹¤í–‰", "text": "ê·€ì°®ê±°ë‚˜ í•˜ê¸° ì‹«ì€ ì¼ì´ë¼ë„ \"í•´ì•¼ í•œë‹¤\"ê³  ë§ˆìŒë¨¹ìœ¼ë©´, ê°ì •ì„ ë°°ì œí•˜ê³  ì¦‰ì‹œ ëª¸ì„ ì›€ì§ì¼ ìˆ˜ ìˆë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 3, "area": "ì•ìª½ë‡Œ", "subarea": "ë™ê¸°&ì‹¤í–‰", "text": "ê²°ì •ì„ ë‚´ë ¤ì•¼ í•  ë•Œ, ìš°ë¬¼ì­ˆë¬¼í•˜ê±°ë‚˜ ë¯¸ë£¨ê¸°ë³´ë‹¤ ë‚´ ê¸°ì¤€ì— ë§ì¶° ë¹ ë¥´ê²Œ ì„ íƒí•˜ëŠ” í¸ì´ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 4, "area": "ì•ìª½ë‡Œ", "subarea": "ë™ê¸°&ì‹¤í–‰", "text": "ì¼ì„ ì‹œì‘í•˜ê¸°ê¹Œì§€ 'ì˜ˆì—´ ì‹œê°„'ì´ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¬ê³ , ë§‰ìƒ ì‹œì‘í•˜ë ¤ë©´ ë”´ì§“ì„ í•˜ê²Œ ëœë‹¤.", "type": "ì €í•˜"},
            {"id": 5, "area": "ì•ìª½ë‡Œ", "subarea": "ë™ê¸°&ì‹¤í–‰", "text": "ìŠ¤ìŠ¤ë¡œ ê³„íšì„ ì§œì„œ ì›€ì§ì´ê¸°ë³´ë‹¤, ë‚¨ì´ ì‹œí‚¤ê±°ë‚˜ ì •í•´ì§„ í‹€(ë§¤ë‰´ì–¼)ì´ ìˆì„ ë•Œ ì›€ì§ì´ëŠ” ê²ƒì´ ë§ˆìŒ í¸í•˜ë‹¤.", "type": "ì €í•˜"},
            {"id": 6, "area": "ì•ìª½ë‡Œ", "subarea": "ì¡°ì ˆ&ì–µì œ", "text": "í™”ê°€ ë‚˜ê±°ë‚˜ ê¸‰í•œ ë§ˆìŒì´ ë“¤ì–´ë„, ìƒí™©ì„ ë´ê°€ë©° ë‚´ ê°ì •ì˜ ì†ë„ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 7, "area": "ì•ìª½ë‡Œ", "subarea": "ì¡°ì ˆ&ì–µì œ", "text": "ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œê°€ í„°ì ¸ë„ ë‹¹í™©í•´ì„œ ì–¼ì–´ë¶™ê¸°ë³´ë‹¤, ì¹¨ì°©í•˜ê²Œ í•´ê²°ì±…ë¶€í„° ìƒê°í•œë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 8, "area": "ì•ìª½ë‡Œ", "subarea": "ì¡°ì ˆ&ì–µì œ", "text": "ì§€ê¸ˆ ë‹¹ì¥ì˜ ì¦ê±°ì›€ì´ë‚˜ ì¶©ë™ì ì¸ ìš•êµ¬ë³´ë‹¤, ë” ì¤‘ìš”í•œ ëª©í‘œë¥¼ ìœ„í•´ ì°¸ëŠ” ê²ƒì´ í¬ê²Œ ì–´ë µì§€ ì•Šë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 9, "area": "ì•ìª½ë‡Œ", "subarea": "ì¡°ì ˆ&ì–µì œ", "text": "ê²‰ìœ¼ë¡œëŠ” ì°¸ì§€ë§Œ ì†ìœ¼ë¡œëŠ” ë™ë™ ì•“ë‹¤ê°€, ì–´ëŠ ìˆœê°„ ì‚¬ì†Œí•œ ì¼ì— ê°‘ìê¸° ìš±í•˜ê³  ê°ì •ì´ í­ë°œí•  ë•Œê°€ ìˆë‹¤.", "type": "ë¹„ìš©"},
            {"id": 10, "area": "ì•ìª½ë‡Œ", "subarea": "ì¡°ì ˆ&ì–µì œ", "text": "ê¸°ë¶„ì´ ì¢‹ìœ¼ë©´ ì—´ì‹¬íˆ í•˜ê³  ê¸°ë¶„ì´ ë‚˜ì˜ë©´ ë§Œì‚¬ê°€ ê·€ì°®ì•„ì§€ëŠ” ë“±, 'ê¸°ë¶„'ì— ë”°ë¼ í•˜ë£¨ì˜ ì„±ê³¼ê°€ í¬ê²Œ ë‹¬ë¼ì§„ë‹¤.", "type": "ë¹„ìš©"},
            {"id": 11, "area": "ì•ìª½ë‡Œ", "subarea": "ëª©í‘œ&ê°•ë°•", "text": "í•œë²ˆ ì‹œì‘í•œ ì¼ì€ ì¤‘ê°„ì— íì§€ë¶€ì§€í•˜ì§€ ì•Šê³ , ì–´ë–»ê²Œë“  ëì„ ë³´ëŠ”(ë§ˆë¬´ë¦¬í•˜ëŠ”) ëˆê¸°ê°€ ìˆë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 12, "area": "ì•ìª½ë‡Œ", "subarea": "ëª©í‘œ&ê°•ë°•", "text": "ì—¬ëŸ¬ ê°€ì§€ ì¼ì´ ë™ì‹œì— í„°ì ¸ë„, ë¬´ì—‡ì´ ë” ì¤‘ìš”í•˜ê³  ê¸‰í•œì§€ ìš°ì„ ìˆœìœ„ë¥¼ ë§¤ê²¨ì„œ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•œë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 13, "area": "ì•ìª½ë‡Œ", "subarea": "ëª©í‘œ&ê°•ë°•", "text": "ê²°ê³¼ë¬¼ì´ ì™„ë²½í•˜ì§€ ì•Šìœ¼ë©´ ë‚¨ë“¤ì—ê²Œ ë³´ì—¬ì£¼ê¸°ê°€ ì‹«ê³ , ì‘ì€ ì‹¤ìˆ˜ì—ë„ ìŠ¤ìŠ¤ë¡œë¥¼ ì‹¬í•˜ê²Œ ìì±…í•œë‹¤.", "type": "ë¹„ìš©"},
            {"id": 14, "area": "ì•ìª½ë‡Œ", "subarea": "ëª©í‘œ&ê°•ë°•", "text": "í˜¹ì‹œë‚˜ ì‹¤ìˆ˜í• ê¹Œ ë´ í™•ì¸í•˜ê³  ë˜ í™•ì¸í•˜ëŠë¼(Double-check), ì •ì‘ ì¤‘ìš”í•œ ì¼ì˜ ì§„ë„ê°€ ì˜ ì•ˆ ë‚˜ê°„ë‹¤.", "type": "ë¹„ìš©"},
            {"id": 15, "area": "ì•ìª½ë‡Œ", "subarea": "ëª©í‘œ&ê°•ë°•", "text": "ë‚´ê°€ ì„¸ì›Œë‘” ê³„íšì´ë‚˜ ë£¨í‹´ì´ ì˜ˆìƒì¹˜ ëª»í•œ ë³€ìˆ˜ë¡œ í‹€ì–´ì§€ë©´, ì§œì¦ì´ í™• ì†Ÿêµ¬ì¹˜ê³  ê²¬ë””ê¸° í˜ë“¤ë‹¤.", "type": "ë¹„ìš©"},
            {"id": 16, "area": "ì•ìª½ë‡Œ", "subarea": "ëª©í‘œ&ê°•ë°•", "text": "ì‰´ ë•Œì¡°ì°¨ \"ìƒì‚°ì ì¸ ì¼ì„ í•´ì•¼ í•œë‹¤\"ëŠ” ì••ë°•ê° ë•Œë¬¸ì—, ê°€ë§Œíˆ ìˆìœ¼ë©´ ì£„ì±…ê°ì´ ë“ ë‹¤.", "type": "ë¹„ìš©"},

            // ë’¤ìª½ë‡Œ (17-33)
            {"id": 17, "area": "ë’¤ìª½ë‡Œ", "subarea": "í™˜ê²½ë¯¼ê°ì„±", "text": "ì—¬í–‰ì§€ë‚˜ ìƒˆë¡œìš´ ì¥ì†Œì— ê°€ë©´, ê·¸ê³³ì˜ ìƒ‰ê°, ì¡°ëª…, ê³µê¸°ì˜ ëŠë‚Œ ê°™ì€ ë¶„ìœ„ê¸°ê°€ ìƒìƒí•˜ê²Œ ì™€ë‹¿ëŠ”ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 18, "area": "ë’¤ìª½ë‡Œ", "subarea": "í™˜ê²½ë¯¼ê°ì„±", "text": "ë¯¸ì„¸í•œ ì†Œë¦¬ë‚˜ ëƒ„ìƒˆ, ì˜¨ë„ ë³€í™” ë“± ë‚¨ë“¤ì€ ê·¸ëƒ¥ ì§€ë‚˜ì¹˜ëŠ” í™˜ê²½ì˜ ë³€í™”ë¥¼ ë³¸ëŠ¥ì ìœ¼ë¡œ ë¹¨ë¦¬ ì•Œì•„ì±ˆë‹¤.", "type": "ì´ì¤‘í•´ì„", "doubleInterpret": true},
            {"id": 19, "area": "ë’¤ìª½ë‡Œ", "subarea": "í™˜ê²½ë¯¼ê°ì„±", "text": "ë°±í™”ì ì´ë‚˜ ì‹œë„ëŸ¬ìš´ ì‹ë‹¹ì²˜ëŸ¼ ì‹œê°/ì²­ê° ìê·¹ì´ ë§ì€ ê³³ì— ìˆìœ¼ë©´, ê¸‰ê²©íˆ ê¸°ê°€ ë¹¨ë¦¬ê³  ë©í•´ì§„ë‹¤.", "type": "ë¹„ìš©"},
            {"id": 20, "area": "ë’¤ìª½ë‡Œ", "subarea": "í™˜ê²½ë¯¼ê°ì„±", "text": "ì—¬í–‰ì§€ë‚˜ ìƒˆë¡œìš´ ì¥ì†Œ(ë‚¯ì„  í™˜ê²½)ì— ê°€ë©´, ë°”ë€ ì ìë¦¬ë‚˜ í™˜ê²½ì— ì ì‘í•˜ëŠë¼ ë‚¨ë“¤ë³´ë‹¤ í›¨ì”¬ ë¹¨ë¦¬ í”¼ê³¤í•´ì§„ë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 21, "area": "ë’¤ìª½ë‡Œ", "subarea": "í™˜ê²½ë¯¼ê°ì„±", "text": "ë‚´ ë°©ì´ë‚˜ ì±…ìƒì˜ ë¬¼ê±´ ìœ„ì¹˜ê°€ ë°”ë€Œê±°ë‚˜ ì •ë¦¬ë˜ì§€ ì•Šì€ ì–´ìˆ˜ì„ í•œ ê³µê°„ì— ìˆìœ¼ë©´, ì‹ ê²½ì´ ê±°ìŠ¬ë ¤ ì§‘ì¤‘ì„ ëª» í•œë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 22, "area": "ë’¤ìª½ë‡Œ", "subarea": "í™˜ê²½ë¯¼ê°ì„±", "text": "ì¡°ê·¸ë§Œ ì†Œë¦¬ë‚˜ ê°€ë²¼ìš´ ì ‘ì´‰ì—ë„ ì‰½ê²Œ ë†€ë¼ëŠ” í¸ì´ë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 23, "area": "ë’¤ìª½ë‡Œ", "subarea": "í™˜ê²½ë¯¼ê°ì„±", "text": "ë§›ìˆëŠ” ê²ƒì„ ë¨¹ê±°ë‚˜ ë©‹ì§„ í’ê²½ì„ ë´ë„ \"ê·¸ëƒ¥ ê·¸ë ‡ë„¤\" í•˜ê³  ë¬´ë¤ë¤í•  ë•Œê°€ ë§ë‹¤.", "type": "ì €í•˜"},
            {"id": 24, "area": "ë’¤ìª½ë‡Œ", "subarea": "ì¶”ìƒì‚¬ê³ ", "text": "ëˆˆì„ ê°ìœ¼ë©´ ì†Œì„¤ ì† ì¥ë©´ì´ë‚˜ ê³¼ê±°ì˜ ê¸°ì–µì´ ì˜í™”ë¥¼ ë³´ë“¯ ë¨¸ë¦¿ì†ì— ìƒìƒí•˜ê²Œ ê·¸ë ¤ì§„ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 25, "area": "ë’¤ìª½ë‡Œ", "subarea": "ì¶”ìƒì‚¬ê³ ", "text": "ë‹¹ì¥ ëˆˆì•ì˜ í˜„ì‹¤ì ì¸ ì´ì•¼ê¸°ë³´ë‹¤, ìš°ì£¼, ì² í•™, ì‹¬ë¦¬ ê°™ì€ ë³´ì´ì§€ ì•ŠëŠ” ì¶”ìƒì ì¸ ì£¼ì œë¥¼ ìƒê°í•˜ëŠ” ê²ƒì´ ì¦ê²ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 26, "area": "ë’¤ìª½ë‡Œ", "subarea": "ì¶”ìƒì‚¬ê³ ", "text": "ë©í•˜ë‹ˆ ìˆì„ ë•Œ, ë‡Œê°€ ë©ˆì¶° ìˆëŠ” ê²Œ ì•„ë‹ˆë¼ ê¼¬ë¦¬ì— ê¼¬ë¦¬ë¥¼ ë¬´ëŠ” ìƒìƒì´ë‚˜ ìƒê°ì˜ ì—¬í–‰ì„ ì¦ê¸°ëŠ” í¸ì´ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 27, "area": "ë’¤ìª½ë‡Œ", "subarea": "ì¶”ìƒì‚¬ê³ ", "text": "ì›í•˜ì§€ ì•ŠëŠ”ë°ë„ ê³¼ê±°ì˜ í›„íšŒë˜ëŠ” ì¥ë©´ì´ë‚˜ ê±±ì •ìŠ¤ëŸ¬ìš´ ë¯¸ë˜ê°€ ì˜ìƒì²˜ëŸ¼ ê³„ì† ë– ì˜¬ë¼ ê´´ë¡­ë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 28, "area": "ë’¤ìª½ë‡Œ", "subarea": "ì¶”ìƒì‚¬ê³ ", "text": "\"ë¨¸ë¦¿ì†ìœ¼ë¡œ ìƒìƒí•´ ë³´ì„¸ìš”\"ë¼ëŠ” ìš”ì²­ì„ ë°›ìœ¼ë©´, ì´ë¯¸ì§€ê°€ ì˜ ì•ˆ ë– ì˜¤ë¥´ê³  ë§‰ë§‰í•˜ë‹¤.", "type": "ì €í•˜"},
            {"id": 29, "area": "ë’¤ìª½ë‡Œ", "subarea": "ê¸€ì“°ê¸°&í†µí•©", "text": "ë³µì¡í•œ ê°ì •ì´ë‚˜ ìƒê°ì€ ë§ë¡œ í•  ë•Œë³´ë‹¤ 'ê¸€'ë¡œ ì •ë¦¬í•  ë•Œ í›¨ì”¬ ê¹Šê³  ëª…í™•í•˜ê²Œ í‘œí˜„ëœë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 30, "area": "ë’¤ìª½ë‡Œ", "subarea": "ê¸€ì“°ê¸°&í†µí•©", "text": "ì±…ì´ë‚˜ ì˜í™”ë¥¼ ë³¼ ë•Œ ì¤„ê±°ë¦¬(Fact)ë³´ë‹¤ëŠ” ê·¸ ì•ˆì— ë‹´ê¸´ ì˜ë¯¸ë‚˜ ìƒì§•, ìˆ¨ì€ ë©”ì‹œì§€ë¥¼ íŒŒì•…í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 31, "area": "ë’¤ìª½ë‡Œ", "subarea": "ê¸€ì“°ê¸°&í†µí•©", "text": "íŒŒí¸í™”ëœ ì •ë³´ë“¤ì„ ëª¨ì•„ì„œ ë‚˜ë§Œì˜ ê´€ì ìœ¼ë¡œ ìƒˆë¡­ê²Œ ì—°ê²°í•˜ê±°ë‚˜ ì •ë¦¬í•˜ëŠ” ê²ƒì„ ì˜í•œë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 32, "area": "ë’¤ìª½ë‡Œ", "subarea": "ê¸€ì“°ê¸°&í†µí•©", "text": "ë‚´ ì•ˆì—ì„œ ë­”ê°€ ëŠê»´ì§€ëŠ” ê±´ ë§ì€ë°, ì ì ˆí•œ ë‹¨ì–´ë‚˜ ë¬¸ì¥ìœ¼ë¡œ í‘œí˜„í•˜ê¸°ê°€ ë„ˆë¬´ ì–´ë µê³  ë‹µë‹µí•˜ë‹¤.", "type": "ì €í•˜"},
            {"id": 33, "area": "ë’¤ìª½ë‡Œ", "subarea": "ê¸€ì“°ê¸°&í†µí•©", "text": "ê¸´ ê¸€ì„ ì½ê±°ë‚˜ ê¹Šì´ ìƒê°í•´ì•¼ í•˜ëŠ” ì»¨í…ì¸ ë¥¼ ì ‘í•˜ë©´, ë¨¸ë¦¬ì— ì˜ ë“¤ì–´ì˜¤ì§€ ì•Šê³  ê¸ˆë°© í”¼ë¡œí•´ì§„ë‹¤.", "type": "ì €í•˜"},

            // ìš°ë‡Œ (34-49)
            {"id": 34, "area": "ìš°ë‡Œ", "subarea": "ì‚¬íšŒì ë ˆì´ë”", "text": "ìƒëŒ€ë°©ì´ ë§ë¡œ í‘œí˜„í•˜ì§€ ì•Šì•„ë„, ë¯¸ì„¸í•œ í‘œì • ë³€í™”ë‚˜ ëª©ì†Œë¦¬ í†¤ë§Œ ë³´ê³ ë„ ê¸°ë¶„(ìˆ¨ì€ ì˜ë„)ì„ ë³¸ëŠ¥ì ìœ¼ë¡œ ì•Œì•„ì±ˆë‹¤.", "type": "ì´ì¤‘í•´ì„", "doubleInterpret": true},
            {"id": 35, "area": "ìš°ë‡Œ", "subarea": "ì‚¬íšŒì ë ˆì´ë”", "text": "ì—¬ëŸ¬ ì‚¬ëŒì´ ëª¨ì¸ ìë¦¬ì— ê°€ë©´, ëˆ„ê°€ ëˆ„êµ¬ë¥¼ ë¶ˆí¸í•´í•˜ê³  ì–´ë–¤ ê¸°ë¥˜ê°€ íë¥´ëŠ”ì§€ 'ê³µê¸°ì˜ íë¦„'ì„ ë‹¨ë²ˆì— ëŠë‚€ë‹¤.", "type": "ì´ì¤‘í•´ì„", "doubleInterpret": true},
            {"id": 36, "area": "ìš°ë‡Œ", "subarea": "ì‚¬íšŒì ë ˆì´ë”", "text": "ëŒ€í™”í•  ë•Œ \"ë§ì˜ ë‚´ìš©(Fact)\"ë³´ë‹¤ ìƒëŒ€ê°€ í’ê¸°ëŠ” \"ëŠë‚Œ(Vibe)\"ì´ë‚˜ ë‰˜ì•™ìŠ¤ë¥¼ ë” ì‹ ë¢°í•˜ëŠ” í¸ì´ë‹¤.", "type": "ì´ì¤‘í•´ì„", "doubleInterpret": true},
            {"id": 37, "area": "ìš°ë‡Œ", "subarea": "ì‚¬íšŒì ë ˆì´ë”", "text": "ìƒëŒ€ë°©ì˜ ì‚¬ì†Œí•œ í–‰ë™ì´ë‚˜ ë§íˆ¬ê°€ ë³€í•˜ë©´ \"ë‚´ê°€ í˜¹ì‹œ ì‹¤ìˆ˜í–ˆë‚˜?\" í•˜ê³  ìê¸° ê²€ì—´ì„ í•˜ê²Œ ëœë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 38, "area": "ìš°ë‡Œ", "subarea": "ì‚¬íšŒì ë ˆì´ë”", "text": "ê±°ì ˆì„ í•˜ê±°ë‚˜ ì‹«ì€ ì†Œë¦¬ë¥¼ í•´ì•¼ í•  ìƒí™©ì´ ì˜¤ë©´, ìƒëŒ€ê°€ ë°›ì„ ìƒì²˜ê°€ ë¯¸ë¦¬ ìƒìƒë˜ì–´ ë§ì´ ì… ë°–ìœ¼ë¡œ ì˜ ì•ˆ ë‚˜ì˜¨ë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 39, "area": "ìš°ë‡Œ", "subarea": "ì‚¬íšŒì ë ˆì´ë”", "text": "ì‚¬ëŒë“¤ì´ \"ëˆˆì¹˜ê°€ ì—†ë‹¤\"ê±°ë‚˜ \"ë¶„ìœ„ê¸° íŒŒì•…ì„ ëª»í•œë‹¤\"ëŠ” ë†ë‹´ì„ í•  ë•Œê°€ ì¢…ì¢… ìˆë‹¤.", "type": "ì €í•˜"},
            {"id": 40, "area": "ìš°ë‡Œ", "subarea": "ê°ì •ì „ì—¼", "text": "ìŠ¬í”ˆ ì˜í™”ë¥¼ ë³´ê±°ë‚˜ í˜ë“  ì‚¬ëŒì˜ ì´ì•¼ê¸°ë¥¼ ë“¤ìœ¼ë©´, ë§ˆì¹˜ ë‚´ ì¼ì²˜ëŸ¼ ê¹Šì´ ì´ì…ë˜ì–´ ëˆˆë¬¼ì´ ë‚œë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 41, "area": "ìš°ë‡Œ", "subarea": "ë¶€ì •ì  ì‚¬ê³ ", "text": "ì¼ì´ í„°ì§€ë©´ ë‚˜ë„ ëª¨ë¥´ê²Œ ë¶€ì •ì ì¸ ìª½ìœ¼ë¡œ ìƒê°í•˜ê±°ë‚˜ ì¢‹ì§€ ì•Šì€ ê²°ë§ì„ ë¨¼ì € ìƒìƒí•˜ê³¤ í•œë‹¤", "type": "ë¹„ìš©"},
            {"id": 42, "area": "ìš°ë‡Œ", "subarea": "ê°ì •ì „ì—¼", "text": "ê°ì • ê¸°ë³µì´ ì‹¬í•œ ì‚¬ëŒì´ë‚˜ ìš°ìš¸í•œ ì‚¬ëŒê³¼ í•¨ê»˜ ìˆìœ¼ë©´, ë‚´ ê¸°ë¶„ê¹Œì§€ ë©ë‹¬ì•„ íœ˜ë‘˜ë ¤(ì „ì—¼ë˜ì–´) í•˜ë£¨ ì¢…ì¼ í˜ë“¤ë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 43, "area": "ìš°ë‡Œ", "subarea": "ê°ì •ì „ì—¼", "text": "íƒ€ì¸ì˜ ê°ì •ì„ ë„ˆë¬´ ë§ì´ í¡ìˆ˜í•´ì„œ, í˜¼ì ìˆì„ ë•Œë„ ë§ˆì¹˜ ë‚¨ì˜ ê°ì •ì´ ë‚´ ì•ˆì— ë‚¨ì•„ìˆëŠ” ê²ƒì²˜ëŸ¼ ë¬´ê²ë‹¤.", "type": "ë¹„ìš©", "doubleInterpret": true},
            {"id": 44, "area": "ìš°ë‡Œ", "subarea": "ê°ì •ì „ì—¼", "text": "ëˆ„êµ°ê°€ í˜ë“  ì´ì•¼ê¸°ë¥¼ í•´ë„ \"ê·¸ë˜ì„œ í•´ê²°ì±…ì´ ë­ì•¼?\"ë¼ëŠ” ìƒê°ë¶€í„° ë“¤ê³ , ë§ˆìŒìœ¼ë¡œ ìœ„ë¡œí•˜ê¸°ê°€ ì–´ìƒ‰í•˜ë‹¤.", "type": "ì €í•˜"},
            {"id": 45, "area": "ìš°ë‡Œ", "subarea": "ì§ê´€&ë§¥ë½", "text": "ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•  ë•Œ, í•˜ë‚˜ì”© ë¶„ì„í•˜ê¸°ë³´ë‹¤ \"ì•„, ì´ê±°êµ¬ë‚˜!\" í•˜ê³  ì „ì²´ì ì¸ ê·¸ë¦¼ì´ í•œ ë²ˆì— ê·¸ë ¤ì§ˆ ë•Œê°€ ë§ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 46, "area": "ìš°ë‡Œ", "subarea": "ì§ê´€&ë§¥ë½", "text": "ì„œë¡œ ì „í˜€ ê´€ë ¨ ì—†ì–´ ë³´ì´ëŠ” ë‘ ê°€ì§€ ì‚¬ì‹¤ì„ ì—°ê²°í•´ì„œ ìƒˆë¡œìš´ ì•„ì´ë””ì–´ë‚˜ ì˜ë¯¸ë¥¼ ì°¾ì•„ë‚´ëŠ” ê²ƒì„ ì˜í•œë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 47, "area": "ìš°ë‡Œ", "subarea": "ì§ê´€&ë§¥ë½", "text": "ë”±ë”±í•œ ì„¤ëª…ì„œë‚˜ ë§¤ë‰´ì–¼ë³´ë‹¤ëŠ”, ì€ìœ ë‚˜ ë¹„ìœ (ê·¸ë¦¼, ì˜ˆì‹œ)ë¡œ ì„¤ëª…í•´ ì¤„ ë•Œ í›¨ì”¬ ì´í•´ê°€ ë¹ ë¥´ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 48, "area": "ìš°ë‡Œ", "subarea": "ì§ê´€&ë§¥ë½", "text": "ëšœë ·í•œ ê·¼ê±°ëŠ” ì—†ëŠ”ë° \"ë­”ê°€ ë¶ˆê¸¸í•œ ëŠë‚Œ\"ì´ ë“¤ë©´, ê·¸ ëŠë‚Œì´ ê³„ì† ë‚˜ë¥¼ ê´´ë¡­í˜€ì„œ ì¼ì„ ì§„í–‰í•˜ê¸° ì–´ë µë‹¤.", "type": "ë¹„ìš©"},
            {"id": 49, "area": "ìš°ë‡Œ", "subarea": "ì§ê´€&ë§¥ë½", "text": "\"ëŒ€ì¶© ì´ëŸ° ëŠë‚Œìœ¼ë¡œ í•´ì¤˜\" ê°™ì€ ì• ë§¤í•œ ì§€ì‹œë¥¼ ë°›ìœ¼ë©´, ë„ëŒ€ì²´ ë­˜ í•´ì•¼ í• ì§€ ëª°ë¼ ë‹µë‹µí•˜ê³  í™”ê°€ ë‚œë‹¤.", "type": "ì €í•˜"},

            // ì¢Œë‡Œ (50-65)
            {"id": 50, "area": "ì¢Œë‡Œ", "subarea": "ë£¨í‹´&ì²´ê³„", "text": "ë³µì¡í•œ ë¬¸ì œê°€ ìƒê¸°ë©´ ë‚˜ëŠ” ìˆœì„œë¥¼ ì •í•´ì„œ ëª©ë¡ìœ¼ë¡œ ì •ë¦¬í•˜ëŠ” í¸ì´ë‹¤", "type": "ê¸°ëŠ¥"},
            {"id": 51, "area": "ì¢Œë‡Œ", "subarea": "ë£¨í‹´&ì²´ê³„", "text": "ë‚˜ëŠ” ì¦‰í¥ì ìœ¼ë¡œ í–‰ë™í•˜ê¸°ë³´ë‹¤, ì •í•´ì§„ ì ˆì°¨ë‚˜ ë§¤ë‰´ì–¼ì„ ë”°ë¥´ëŠ” í¸ì´ ì¢‹ë‹¤", "type": "ê¸°ëŠ¥"},
            {"id": 52, "area": "ì¢Œë‡Œ", "subarea": "ë£¨í‹´&ì²´ê³„", "text": "ë‚˜ëŠ” ë§¤ì¼ ë°˜ë³µë˜ëŠ” ì¼ìƒì„ ì¼ì •í•œ ë£¨í‹´ìœ¼ë¡œ ìœ ì§€í•˜ëŠ” í¸ì´ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 53, "area": "ì¢Œë‡Œ", "subarea": "ë£¨í‹´&ì²´ê³„", "text": "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì•½ì† ë³€ê²½ì´ë‚˜ ë‚´ ê³„íšì— ì—†ë˜ ëŒë°œ ìƒí™©ì´ ìƒê¸°ë©´, ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì‹¬í•˜ê²Œ ë°›ê³  í™”ê°€ ë‚œë‹¤.", "type": "ë¹„ìš©"},
            {"id": 54, "area": "ì¢Œë‡Œ", "subarea": "ë£¨í‹´&ì²´ê³„", "text": "ë¬¼ê±´ì„ ì–´ë””ì— ë’€ëŠ”ì§€ ìì£¼ ìŠì–´ë²„ë¦¬ê³ , ì •ë¦¬ ì •ëˆì´ ì•ˆ ë˜ì–´ ëŠ˜ ì£¼ë³€ì´ ì–´ìˆ˜ì„ í•˜ë‹¤.", "type": "ì €í•˜"},
            {"id": 55, "area": "ì¢Œë‡Œ", "subarea": "ë…¼ë¦¬&ì¸ê³¼", "text": "ëˆ„êµ°ê°€ë¥¼ ì„¤ë“í•  ë•Œ ê°ì •ì— í˜¸ì†Œí•˜ê¸°ë³´ë‹¤, ê°ê´€ì ì¸ ê·¼ê±°ì™€ ë°ì´í„°ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ í›¨ì”¬ í¸í•˜ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 56, "area": "ì¢Œë‡Œ", "subarea": "ë…¼ë¦¬&ì¸ê³¼", "text": "ì–´ë–¤ í˜„ìƒì„ ë³¼ ë•Œ \"ì™œ?\"ë¼ëŠ” ì§ˆë¬¸ì„ ë˜ì§€ê³ , ë‚©ë“í•  ë§Œí•œ ì›ì¸ê³¼ ê²°ê³¼(ì¸ê³¼ê´€ê³„)ë¥¼ íŒŒì•…í•´ì•¼ ì§ì„±ì´ í’€ë¦°ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 57, "area": "ì¢Œë‡Œ", "subarea": "ë…¼ë¦¬&ì¸ê³¼", "text": "ê°ì •ì ìœ¼ë¡œ í¥ë¶„ëœ ìƒí™©ì—ì„œë„, ì‚¬ì‹¤ ê´€ê³„(Fact)ë¥¼ ë”°ì ¸ê°€ë©° ì°¨ë¶„í•˜ê²Œ ì‹œì‹œë¹„ë¹„ë¥¼ ê°€ë¦´ ìˆ˜ ìˆë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 58, "area": "ì¢Œë‡Œ", "subarea": "ë…¼ë¦¬&ì¸ê³¼", "text": "íƒ€ì¸ì´ ê°ì •ì ì¸ ìœ„ë¡œë¥¼ ì›í•  ë•Œì¡°ì°¨, ë‚˜ë„ ëª¨ë¥´ê²Œ í•´ê²°ì±…ì„ ë¶„ì„í•˜ê±°ë‚˜ ì˜ì˜ëª»ì„ ë”°ì ¸ì„œ ìƒëŒ€ì—ê²Œ ìƒì²˜ë¥¼ ì£¼ê³¤ í•œë‹¤.", "type": "ë¹„ìš©"},
            {"id": 59, "area": "ì¢Œë‡Œ", "subarea": "ë…¼ë¦¬&ì¸ê³¼", "text": "ë…¼ë¦¬ì ìœ¼ë¡œ ì„¤ëª…ë˜ì§€ ì•ŠëŠ” ì¼ì´ë‚˜, ê·¼ê±° ì—†ëŠ” 'ê°'ìœ¼ë¡œ ì¼í•˜ëŠ” ì‚¬ëŒì„ ë³´ë©´ ë‹µë‹µí•´ì„œ ê²¬ë”œ ìˆ˜ê°€ ì—†ë‹¤.", "type": "ë¹„ìš©"},
            {"id": 60, "area": "ì¢Œë‡Œ", "subarea": "ë…¼ë¦¬&ì¸ê³¼", "text": "ë§ì„ í•  ë•Œ ë‘ì„œê°€ ì—†ê³ , ë‚´ê°€ ë¬´ìŠ¨ ë§ì„ í•˜ë ¤ëŠ”ì§€ ë…¼ë¦¬ì ìœ¼ë¡œ ìš”ì•½í•´ì„œ ì „ë‹¬í•˜ê¸°ê°€ ì–´ë µë‹¤.", "type": "ì €í•˜"},
            {"id": 61, "area": "ì¢Œë‡Œ", "subarea": "í˜„ì‹¤&ì„¸ë¶€", "text": "ëœ¬êµ¬ë¦„ ì¡ëŠ” ë¯¸ë˜ì˜ ë¹„ì „ë³´ë‹¤, ë‹¹ì¥ ë‚´ ì†ì— ì¡íˆëŠ” êµ¬ì²´ì ì¸ ì´ìµê³¼ í˜„ì‹¤ì ì¸ ê²°ê³¼ê°€ ë” ì¤‘ìš”í•˜ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 62, "area": "ì¢Œë‡Œ", "subarea": "í˜„ì‹¤&ì„¸ë¶€", "text": "ì „ì²´ì ì¸ ë¶„ìœ„ê¸°ë§Œ ë³´ëŠ” ê²Œ ì•„ë‹ˆë¼, ë‚ ì§œ, ìˆ«ì, ì˜¤íƒ€ ê°™ì€ ì„¸ë¶€ì ì¸ ì •ë³´(Detail)ë¥¼ ì •í™•í•˜ê²Œ ê¸°ì–µí•˜ê³  ì¡ì•„ë‚¸ë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 63, "area": "ì¢Œë‡Œ", "subarea": "í˜„ì‹¤&ì„¸ë¶€", "text": "\"ë§Œì•½ì—\"ë¼ëŠ” ìƒìƒë³´ë‹¤ëŠ” \"ê·¸ë˜ì„œ ì§€ê¸ˆ ë‹¹ì¥ ë­˜ í•´ì•¼ í•˜ì§€?\"ë¼ëŠ” í˜„ì‹¤ì ì¸ ì§ˆë¬¸ì— ì§‘ì¤‘í•œë‹¤.", "type": "ê¸°ëŠ¥"},
            {"id": 64, "area": "ì¢Œë‡Œ", "subarea": "í˜„ì‹¤&ì„¸ë¶€", "text": "í™•ì‹¤í•œ ë‹µì´ ì—†ëŠ” ëª¨í˜¸í•œ(Ambiguous) ìƒí™©ì„ ê²¬ë””ê¸° í˜ë“¤ì–´, ë¹¨ë¦¬ ê²°ë¡ ì„ ë‚´ë¦¬ê³  ì‹¶ì–´ ì¡°ê¸‰í•´ì§„ë‹¤.", "type": "ë¹„ìš©"},
            {"id": 65, "area": "ì¢Œë‡Œ", "subarea": "í˜„ì‹¤&ì„¸ë¶€", "text": "ê³„ì‚° ì‹¤ìˆ˜ê°€ ì¦ê±°ë‚˜, ì•½ì† ì‹œê°„ì´ë‚˜ ë‚ ì§œ ê°™ì€ ìˆ«ì ì •ë³´ë¥¼ ìì£¼ ì°©ê°í•´ì„œ ê³¤ë€ì„ ê²ªëŠ”ë‹¤.", "type": "ì €í•˜"}
        ];

        // ìˆ˜ë©´íšŒë³µ ì²´í¬ë°•ìŠ¤ ë¬¸í•­ (66-70)
        const sleepQuestions = [
            {"id": 66, "text": "ì ìë¦¬ì— ëˆ„ìš°ë©´ ìƒê°ì´ ê¼¬ë¦¬ë¥¼ ë¬¼ê±°ë‚˜ ì‹ ê²½ì´ ì˜ˆë¯¼í•´ì ¸ì„œ 20ë¶„ ì•ˆì— ì ë“¤ê¸° í˜ë“¤ë‹¤."},
            {"id": 67, "text": "ìë‹¤ê°€ ì‘ì€ ì†Œë¦¬ì—ë„ ìì£¼ ê¹¨ê±°ë‚˜, í•œ ë²ˆ ê¹¨ë©´ ë‹¤ì‹œ ì ë“¤ê¸° ì–´ë µë‹¤."},
            {"id": 68, "text": "ê¿ˆì„ ë„ˆë¬´ ë§ì´ ê¾¸ê±°ë‚˜(ì•…ëª½, ë‹¤ëª½), ìê³  ì¼ì–´ë‚˜ë„ ë°¤ìƒˆ ì¼ì„ í•œ ê²ƒì²˜ëŸ¼ ëª¸ì´ ë¬´ê²ë‹¤."},
            {"id": 69, "text": "ë‚® ì‹œê°„ì— ë¨¸ë¦¬ê°€ ë©í•˜ê±°ë‚˜(Brain Fog), ì»¤í”¼ ì—†ì´ëŠ” ì§‘ì¤‘í•˜ê¸° í˜ë“¤ ì •ë„ë¡œ ì¡¸ìŒì´ ìŸì•„ì§„ë‹¤."},
            {"id": 70, "text": "í•´ë‹¹ ì—†ìŒ"}
        ];

        // ì‹ ì²´í™” ì²´í¬ë°•ìŠ¤ ë¬¸í•­ (71-75)
        const bodyQuestions = [
            {"id": 71, "text": "ì‰¬ê³  ìˆì„ ë•Œë„ ë‚˜ë„ ëª¨ë¥´ê²Œ ì–´ê¹¨, ëª©, í„±ì— í˜ì´ ì”ëœ© ë“¤ì–´ê°€ ìˆê±°ë‚˜ í†µì¦ì´ ìˆë‹¤."},
            {"id": 72, "text": "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ìœ¼ë©´ ë°”ë¡œ ì†Œí™”ê°€ ì•ˆ ë˜ê±°ë‚˜, ë³µí†µ/ì„¤ì‚¬ ë“± ìœ„ì¥ ì¥ì• ê°€ ìƒê¸´ë‹¤."},
            {"id": 73, "text": "íŠ¹ë³„í•œ ì´ìœ  ì—†ì´ ê°€ìŠ´ì´ ë‹µë‹µí•˜ê±°ë‚˜ ë‘ê·¼ê±°ë¦¬ê³ , í˜¸í¡ì´ ì–•ì•„ì§€ëŠ” ëŠë‚Œì´ ë“ ë‹¤."},
            {"id": 74, "text": "ë¨¸ë¦¬ê°€ ì§€ëˆê±°ë¦¬ëŠ” ë‘í†µì´ ì¦ê±°ë‚˜, ê°‘ìê¸° í•‘ ë„ëŠ” ë“¯í•œ ì–´ì§€ëŸ¼ì¦ì„ ëŠë‚€ë‹¤."},
            {"id": 75, "text": "í•´ë‹¹ ì—†ìŒ"}
        ];

        // ============================================
        // ì„¹ì…˜ êµ¬ì„±
        // ============================================
        const sections = [
            { name: "ì•ìª½ë‡Œ - ë™ê¸°&ì‹¤í–‰", questions: surveyQuestions.filter(q => q.subarea === "ë™ê¸°&ì‹¤í–‰") },
            { name: "ì•ìª½ë‡Œ - ì¡°ì ˆ&ì–µì œ", questions: surveyQuestions.filter(q => q.subarea === "ì¡°ì ˆ&ì–µì œ") },
            { name: "ì•ìª½ë‡Œ - ëª©í‘œ&ê°•ë°•", questions: surveyQuestions.filter(q => q.subarea === "ëª©í‘œ&ê°•ë°•") },
            { name: "ë’¤ìª½ë‡Œ - í™˜ê²½ë¯¼ê°ì„±", questions: surveyQuestions.filter(q => q.subarea === "í™˜ê²½ë¯¼ê°ì„±") },
            { name: "ë’¤ìª½ë‡Œ - ì¶”ìƒì‚¬ê³ ", questions: surveyQuestions.filter(q => q.subarea === "ì¶”ìƒì‚¬ê³ ") },
            { name: "ë’¤ìª½ë‡Œ - ê¸€ì“°ê¸°&í†µí•©", questions: surveyQuestions.filter(q => q.subarea === "ê¸€ì“°ê¸°&í†µí•©") },
            { name: "ìš°ë‡Œ - ì‚¬íšŒì ë ˆì´ë”", questions: surveyQuestions.filter(q => q.subarea === "ì‚¬íšŒì ë ˆì´ë”") },
            { name: "ìš°ë‡Œ - ê°ì •ì „ì—¼", questions: surveyQuestions.filter(q => q.subarea === "ê°ì •ì „ì—¼" || q.subarea === "ë¶€ì •ì  ì‚¬ê³ ") },
            { name: "ìš°ë‡Œ - ì§ê´€&ë§¥ë½", questions: surveyQuestions.filter(q => q.subarea === "ì§ê´€&ë§¥ë½") },
            { name: "ì¢Œë‡Œ - ë£¨í‹´&ì²´ê³„", questions: surveyQuestions.filter(q => q.subarea === "ë£¨í‹´&ì²´ê³„") },
            { name: "ì¢Œë‡Œ - ë…¼ë¦¬&ì¸ê³¼", questions: surveyQuestions.filter(q => q.subarea === "ë…¼ë¦¬&ì¸ê³¼") },
            { name: "ì¢Œë‡Œ - í˜„ì‹¤&ì„¸ë¶€", questions: surveyQuestions.filter(q => q.subarea === "í˜„ì‹¤&ì„¸ë¶€") },
            { name: "ìˆ˜ë©´íšŒë³µ", questions: sleepQuestions, isCheckbox: true },
            { name: "ì‹ ì²´í™”", questions: bodyQuestions, isCheckbox: true }
        ];

        // ============================================
        // ìƒíƒœ ê´€ë¦¬
        // ============================================
        let currentSection = 0;
        let responses = {};
        let personalInfo = {};

        // ============================================
        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        // ============================================
        function showScreen(screenId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');

            // í”„ë¡œê·¸ë˜ìŠ¤ ë°”ì™€ ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ ì œì–´
            if (screenId === 'surveySection') {
                document.getElementById('progressSection').classList.add('active');
                document.getElementById('navigationBar').classList.add('active');
            } else {
                document.getElementById('progressSection').classList.remove('active');
                document.getElementById('navigationBar').classList.remove('active');
            }
        }

        function goToConsent() {
            showScreen('consentScreen');
        }

        function updateConsentButton() {
            const checkbox = document.getElementById('consentAgree');
            const btn = document.getElementById('consentBtn');
            btn.disabled = !checkbox.checked;
        }

        function goToPersonalInfo() {
            showScreen('personalInfoScreen');
        }

        function toggleJobOther() {
            const jobSelect = document.getElementById('userJob');
            const otherGroup = document.getElementById('jobOtherGroup');
            otherGroup.style.display = jobSelect.value === 'ê¸°íƒ€' ? 'block' : 'none';
        }

        function submitPersonalInfo() {
            const form = document.getElementById('personalInfoForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            personalInfo = {
                name: document.getElementById('userName').value,
                gender: document.querySelector('input[name="gender"]:checked').value,
                age: document.getElementById('userAge').value,
                job: document.getElementById('userJob').value === 'ê¸°íƒ€' 
                    ? document.getElementById('userJobOther').value 
                    : document.getElementById('userJob').value,
                email: document.getElementById('userEmail').value
            };

            currentSection = 0;
            renderSurveySection();
            showScreen('surveySection');
        }

        // ============================================
        // ì„¤ë¬¸ ë Œë”ë§
        // ============================================
        function renderSurveySection() {
            const section = sections[currentSection];
            const surveySection = document.getElementById('surveySection');

            let html = `<h2 style="font-size: 1.25rem; color: var(--primary); margin-bottom: 1.5rem; text-align: center;">${section.name}</h2>`;

            if (section.isCheckbox) {
                // ì²´í¬ë°•ìŠ¤ í˜•ì‹ (ìˆ˜ë©´íšŒë³µ, ì‹ ì²´í™”)
                html += `<div class="survey-question">
                    <div class="question-text">
                        í•´ë‹¹í•˜ëŠ” í•­ëª©ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš” (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)
                    </div>
                    <div class="checkbox-options">`;
                
                section.questions.forEach((q, index) => {
                    const checked = responses[q.id] === 5 ? 'checked' : '';
                    html += `
                        <label class="checkbox-label">
                            <input type="checkbox" name="checkbox_${section.name}" value="${q.id}" ${checked} onchange="updateCheckboxResponse(${q.id}, this.checked)">
                            <span>${q.text}</span>
                        </label>`;
                });

                html += `</div></div>`;
            } else {
                // ì¼ë°˜ ë¼ë””ì˜¤ ë²„íŠ¼ í˜•ì‹
                section.questions.forEach((q, index) => {
                    html += `
                        <div class="survey-question">
                            <div class="question-text">
                                <span class="question-number">Q${q.id}.</span>
                                ${q.text}
                            </div>
                            <div class="options">
                                ${[
                                    {value: 5, label: 'ë§¤ìš° ê·¸ë ‡ë‹¤'},
                                    {value: 4, label: 'ê·¸ë ‡ë‹¤'},
                                    {value: 3, label: 'ë³´í†µì´ë‹¤'},
                                    {value: 2, label: 'ì•„ë‹ˆë‹¤'},
                                    {value: 1, label: 'ì „í˜€ ì•„ë‹ˆë‹¤'}
                                ].map(opt => `
                                    <label class="option-label">
                                        <input type="radio" name="q${q.id}" value="${opt.value}" ${responses[q.id] === opt.value ? 'checked' : ''} onchange="updateResponse(${q.id}, ${opt.value})">
                                        <span>${opt.label}</span>
                                    </label>
                                `).join('')}
                            </div>
                        </div>`;
                });
            }

            surveySection.innerHTML = html;
            updateProgress();
            updateNavigation();
        }

        function updateResponse(questionId, value) {
            responses[questionId] = value;
            updateProgress();
        }

        function updateCheckboxResponse(questionId, checked) {
            if (checked) {
                responses[questionId] = 5;
            } else {
                delete responses[questionId];
            }
            
            // "í•´ë‹¹ ì—†ìŒ" ì²˜ë¦¬
            const section = sections[currentSection];
            if (section.isCheckbox) {
                const noneOptionId = section.questions[section.questions.length - 1].id;
                if (questionId === noneOptionId && checked) {
                    // "í•´ë‹¹ ì—†ìŒ" ì„ íƒ ì‹œ ë‹¤ë¥¸ í•­ëª© ëª¨ë‘ í•´ì œ
                    section.questions.forEach(q => {
                        if (q.id !== noneOptionId) {
                            delete responses[q.id];
                        }
                    });
                    renderSurveySection();
                } else if (checked && responses[noneOptionId]) {
                    // ë‹¤ë¥¸ í•­ëª© ì„ íƒ ì‹œ "í•´ë‹¹ ì—†ìŒ" í•´ì œ
                    delete responses[noneOptionId];
                    renderSurveySection();
                }
            }
            updateProgress();
        }

        function updateProgress() {
            const totalQuestions = surveyQuestions.length + 2; // ì¼ë°˜ ë¬¸í•­ + ìˆ˜ë©´íšŒë³µ + ì‹ ì²´í™”
            let answeredCount = Object.keys(responses).length;
            
            // ì²´í¬ë°•ìŠ¤ ì„¹ì…˜ì€ ìµœì†Œ 1ê°œ ì‘ë‹µì´ë©´ ì™„ë£Œë¡œ ê°„ì£¼
            if (currentSection === 12 || currentSection === 13) {
                const section = sections[currentSection];
                const sectionResponses = section.questions.filter(q => responses[q.id] !== undefined);
                if (sectionResponses.length > 0) {
                    answeredCount = Math.max(answeredCount, 1);
                }
            }

            const progress = (answeredCount / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('progressInfo').textContent = `ë¬¸í•­ ${answeredCount}/${totalQuestions}`;
        }

        function updateNavigation() {
            document.getElementById('sectionIndicator').textContent = `ì„¹ì…˜ ${currentSection + 1}/${sections.length}`;
            
            const nextBtn = document.getElementById('nextBtn');
            if (currentSection === sections.length - 1) {
                nextBtn.textContent = 'ì™„ë£Œ';
            } else {
                nextBtn.textContent = 'ë‹¤ìŒ';
            }
        }

        function canProceed() {
            const section = sections[currentSection];
            
            if (section.isCheckbox) {
                // ì²´í¬ë°•ìŠ¤ ì„¹ì…˜: ìµœì†Œ 1ê°œ ì´ìƒ ì„ íƒë˜ì–´ì•¼ í•¨
                return section.questions.some(q => responses[q.id] !== undefined);
            } else {
                // ì¼ë°˜ ì„¹ì…˜: ëª¨ë“  ë¬¸í•­ì— ë‹µë³€ë˜ì–´ì•¼ í•¨
                return section.questions.every(q => responses[q.id] !== undefined);
            }
        }

        function previousSection() {
            if (currentSection > 0) {
                currentSection--;
                renderSurveySection();
            }
        }

        function nextSection() {
            if (!canProceed()) {
                alert('ëª¨ë“  ë¬¸í•­ì— ë‹µë³€í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (currentSection < sections.length - 1) {
                currentSection++;
                renderSurveySection();
                window.scrollTo(0, 0);
            } else {
                showScreen('completionScreen');
            }
        }

        // ============================================
        // ê²°ê³¼ ì œì¶œ
        // ============================================
        // ============================================
        // ì ìˆ˜ ê³„ì‚° ë¡œì§
        // ============================================
        function calculateScores() {
            const analysis = {
                areas: {},
                sleep: { count: 0, symptoms: [] },
                somatic: { count: 0, symptoms: [] },
                doubleInterpret: {
                    level: 'none', // none, moderate, severe
                    affectedQuestions: []
                }
            };

            // 1. ìˆ˜ë©´ ì ìˆ˜ ê³„ì‚° (66-69ë²ˆ, 70ë²ˆì€ í•´ë‹¹ì—†ìŒ)
            for (let i = 66; i <= 69; i++) {
                if (responses[i] !== undefined) {
                    analysis.sleep.count++;
                    analysis.sleep.symptoms.push(i);
                }
            }

            // 2. ì‹ ì²´í™” ì ìˆ˜ ê³„ì‚° (71-74ë²ˆ, 75ë²ˆì€ í•´ë‹¹ì—†ìŒ)
            for (let i = 71; i <= 74; i++) {
                if (responses[i] !== undefined) {
                    analysis.somatic.count++;
                    analysis.somatic.symptoms.push(i);
                }
            }

            // 3. ì´ì¤‘í•´ì„ ë ˆë²¨ íŒì •
            const sleepHigh = analysis.sleep.count >= 3;
            const somaticHigh = analysis.somatic.count >= 3;

            if (sleepHigh && somaticHigh) {
                analysis.doubleInterpret.level = 'severe'; // ê°•í•œ ê²½ê³ 
            } else if (sleepHigh || somaticHigh) {
                analysis.doubleInterpret.level = 'moderate'; // ì•½í•œ ì£¼ì˜
            }

            // 4. ì´ì¤‘í•´ì„ ëŒ€ìƒ ë¬¸í•­ ì¶”ì¶œ
            const doubleInterpretQs = surveyQuestions.filter(q => q.doubleInterpret);
            doubleInterpretQs.forEach(q => {
                const score = responses[q.id];
                if (score === 1 || score === 5) { // ê·¹ë‹¨ ì‘ë‹µ
                    analysis.doubleInterpret.affectedQuestions.push({
                        id: q.id,
                        area: q.area,
                        text: q.text,
                        score: score,
                        interpretation: getDoubleInterpretation(q, score, sleepHigh, somaticHigh)
                    });
                }
            });

            // 5. ì˜ì—­ë³„ ì ìˆ˜ ê³„ì‚°
            ['ì•ìª½ë‡Œ', 'ë’¤ìª½ë‡Œ', 'ìš°ë‡Œ', 'ì¢Œë‡Œ'].forEach(area => {
                const areaQs = surveyQuestions.filter(q => q.area === area);
                let functionScore = 0;
                let costScore = 0;
                let underScore = 0;

                areaQs.forEach(q => {
                    const score = responses[q.id] || 0;
                    if (q.type === 'ê¸°ëŠ¥') {
                        functionScore += score;
                    } else if (q.type === 'ë¹„ìš©') {
                        costScore += score;
                    } else if (q.type === 'ì €í•˜') {
                        underScore += score;
                    } else if (q.type === 'ì´ì¤‘í•´ì„') {
                        // ì´ì¤‘í•´ì„ ë¬¸í•­ì€ ìƒí™©ì— ë”°ë¼ ì²˜ë¦¬
                        if (analysis.doubleInterpret.level !== 'none') {
                            costScore += score; // ê³¼í™œì„±ìœ¼ë¡œ ê°„ì£¼
                        } else {
                            functionScore += score; // ì¬ëŠ¥ìœ¼ë¡œ ê°„ì£¼
                        }
                    }
                });

                analysis.areas[area] = {
                    function: functionScore,
                    cost: costScore,
                    under: underScore,
                    total: functionScore + costScore + underScore
                };
            });

            return analysis;
        }

        function getDoubleInterpretation(question, score, sleepHigh, somaticHigh) {
            if (sleepHigh && somaticHigh) {
                return 'ì •ì„œ ê³¼í™œì„± - ë¶ˆì•ˆ/ê³¼ë¯¼ ìƒíƒœ';
            } else if (sleepHigh) {
                return 'High Beta ê³¼í™œì„± ë˜ëŠ” Theta ê³¼ì‰';
            } else if (somaticHigh && (question.area === 'ìš°ë‡Œ' || question.area === 'ë’¤ìª½ë‡Œ')) {
                return 'High Beta ê³¼í™œì„± ë˜ëŠ” Theta ê³¼ì‰';
            } else {
                return score === 5 ? 'ì¬ëŠ¥/ê°•ì ' : 'ì €í•˜';
            }
        }

        // ============================================
        // ì„¤ë¬¸ ì œì¶œ
        // ============================================
        function submitSurvey() {
            const submitBtn = document.getElementById('submitBtn');
            const spinner = document.getElementById('submitSpinner');

            submitBtn.disabled = true;
            submitBtn.textContent = 'ì œì¶œ ì¤‘...';
            spinner.style.display = 'block';

            // ì ìˆ˜ ê³„ì‚°
            const analysis = calculateScores();

            const surveyData = {
                personalInfo: personalInfo,
                responses: responses,
                analysis: analysis,
                timestamp: new Date().toISOString()
            };

            // êµ¬ê¸€ì‹œíŠ¸ë¡œ ë°ì´í„° ì „ì†¡
            if (GOOGLE_SCRIPT_URL) {
                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(surveyData)
                })
                .then(() => {
                    console.log('ë°ì´í„° ì „ì†¡ ì™„ë£Œ');
                    console.log('ë¶„ì„ ê²°ê³¼:', analysis);
                    spinner.style.display = 'none';
                    submitBtn.textContent = 'ì œì¶œ ì™„ë£Œ!';
                    submitBtn.style.background = 'var(--success)';
                    
                    setTimeout(() => {
                        alert('ì„¤ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!\nê²°ê³¼ëŠ” ì´ë©”ì¼ë¡œ ì „ì†¡ë©ë‹ˆë‹¤.');
                        // í•„ìš”ì‹œ í˜ì´ì§€ ë¦¬ë¡œë“œ ë˜ëŠ” ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™
                        // window.location.href = '/thank-you';
                    }, 1000);
                })
                .catch(error => {
                    console.error('ì „ì†¡ ì˜¤ë¥˜:', error);
                    spinner.style.display = 'none';
                    submitBtn.textContent = 'ì œì¶œí•˜ê¸°';
                    submitBtn.disabled = false;
                    alert('ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                });
            } else {
                // URLì´ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš°
                console.log('Survey Data:', surveyData);
                console.log('ë¶„ì„ ê²°ê³¼:', analysis);
                setTimeout(() => {
                    spinner.style.display = 'none';
                    submitBtn.textContent = 'ì œì¶œ ì™„ë£Œ!';
                    submitBtn.style.background = 'var(--success)';
                    
                    setTimeout(() => {
                        alert('ì„¤ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!\n(êµ¬ê¸€ì‹œíŠ¸ URLì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤)');
                    }, 1000);
                }, 2000);
            }
        }

        // ============================================
        // ì´ˆê¸°í™”
        // ============================================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('NCI ì„¤ë¬¸ì¡°ì‚¬ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ');
            console.log('ì´ ì„¹ì…˜ ìˆ˜:', sections.length);
            console.log('ì´ ë¬¸í•­ ìˆ˜:', surveyQuestions.length + sleepQuestions.length + bodyQuestions.length);
        });
    </script>
</body>
</html>
